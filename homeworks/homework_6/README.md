## Домашнее задание №6

Генерация адаптеров по интерфейсу

#### **Цель:**

В рамках данного ДЗ Вы научитесь генерировать адаптеры для интерфейсов, полученных при применении принципа DIP.
ДЗ демонстрирует применение метапрограммирования для решения рутинных задач, а также возможности Reflection и компиляции "на лету" современных языков программирования.

Если задание выполняется на C++, то задание заключается в написании препроцессора, который ищет абстрактные классы и по ним генерирует код адаптера, который включается в состав проекта. Для удобства такой препроцессор стоит запускать на этапе, предшествующем компиляции в процессе сборки, а также стоит подумать об удалении всех
сгенерированных файлов при выполнении команды clear.

#### **Описание/Пошаговая инструкция выполнения домашнего задания:**
Предположим, что у нас есть интерфейс

```csharp
interface Spaceship.Operations.IMovable
{
  Vector getPosition();
  void setPosition(Vector newValue);
  Vector getVelocity();
}
```
1. Необходимо по нему сгенерировать следующий класс:
```csharp
class AutoGenerated.MovableAdapter:  Spaceship.Operations.IMovable
{
  UObject obj;
  public  MovableAdapter(UObject obj)
  {  
     this.obj = obj;
  }

  public Vector getPosition()
  {
     return IoC.Resolve<Vector>("Spaceship.Operations.IMovable:position.get", obj);
  }

  public Vector getVelocity()
  {
     return IoC.Resolve<Vector>("Spaceship.Operations.IMovable:velocity.get", obj);
  }

  public void setPosition(Vector newValue)
  {
     IoC.Resolve<ICommand>("Spaceship.Operations.IMovable:position.set", obj, newValue).Execute();
  }
}
```
так, чтобы можно было создавать экземпляры этого класса.

2. Экземпляры генерируемых оберток для объекта obj можно создавать следующей строкой:
```csharp
var adapter = IoC.Resolve<IMovable>("Adapter", typeof(IMovable), obj);
```

3. \* Необязательная задача на подумать: если интерфейсе потребуются какие-либо методы, например, как

```csharp
 interface Spaceship.Operations.IMovable
{
  Vector getPosition();
  Vector setPosition(Vector newValue);
  Vector getVelocity();

  void finish();
}
```

### Покрытие

[![Coverage Status](https://img.shields.io/coverallsCoverage/github/den41apple/otus_architecture_and_design_patterns?branch=homework_6&label=homework_6)](https://coveralls.io/github/den41apple/otus_architecture_and_design_patterns?branch=homework_6)
